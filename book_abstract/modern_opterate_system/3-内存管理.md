- 《现代操作系统》读摘

# 内存管理

- 帕金森定律：“不管存储器多大，程序都可以把它填满！”
- `分层存储体系`
- `存储管理器`

### 无存储器抽象

### 一种存储器抽象：地址空间

##### 地址空间的概念

- 保护和重定位
- `地址空间`：是一个进程可用于寻址内存的一套地址集合
- 每个进程都有一个自己的地址空间，并且这个地址空间独立于其它进程的地址空间

- 基址寄存器与界限寄存器
  - `动态重定位`：简单地把每个进程的地址空间映射到物理内存的不同部分
  - `基址寄存器`和`界限寄存器`

##### 交换技术

- `交换`是把一个进程完整调入内存，使该进程运行一段时间，然后把它存回磁盘
- `虚拟内存`：该策略甚至能使程序在只有一部分被调入内存的情况下运行
- `内存紧缩`：交换在内存中产生了多个空闲区，通过把所有的进程尽可能向下移动，有可能将这些小的空闲区合成一大块

##### 空闲内存管理

- `位图`和`空闲区链表`
- 使用链表的存储管理
  - 维护一个记录已经分配内存段和空闲内存段的链表
  - 链表中的每一个阶段都包含以下域：空闲区H或进程P的指示标志、起始地址、长度和指向下一节点的指针
  - `首次适配算法`：物理内存页管理器顺着双向链表进行搜索空闲内存区域，直到找到一个足够大的空闲区域，这是一种速度很快的算法，因为它尽可能少地搜索链表。
  - `下次适配算法`：工作方式和首次适配算法相同，不同点是每次找到合适的空闲区时都记录当时的位置，以便下次寻找空闲区时从上次结束的地方开始搜索，而不是享受此适配算法那样每次都从头开始
  - `最佳适配算法`：物理内存页管理器搜索整个双向链表（从开始到结束），找出能够满足申请分配的空间大小的最小空闲区域。
  - `最差适配算法`：物理内存页管理器搜索整个双向链表，找出能够满足申请分配的空间大小的最大空闲区域，使新的空闲区比较大从而可以继续使用。
  - `快速适配算法`：为那些常用大小的空闲区维护单独的链表。例如：4kb->8kb->12kb->...

### 虚拟内存

##### 分页
##### 页表
##### 加速分页过程
##### 针对大内存的页表

### 页面置换算法

##### 最优页面置换算法
##### 最近未使用页面置换算法
##### 先进先出页面置换算法
##### 第二次机会页面置换算法
##### 时钟页面置换算法
##### 最近最少使用页面置换算法
##### 用软件模拟LRU
##### 工作集页面置换算法
##### 工作集时钟页面置换算法
##### 页面置换算法小结

### 分页系统中的设计问题

##### 局部分配策略与全局分配策略
##### 负载控制
##### 页面大小
##### 分离的指令空间和数据空间
##### 共享页面
##### 共享库
##### 内存映射文件
##### 清除策略
##### 虚拟内存接口

### 有关实现的问题

##### 与分页有关的工作
##### 缺页中断处理
##### 指令备份
##### 锁定内存中的页面
##### 后备存储
##### 策略和机制的分离

### 分段

##### 纯分段的实现
##### 分段和分页结合：MULTICS
##### 分段和分页结合：Intel x86

### 有关内存管理的研究

### 小结
